<style>

    @keyframes shake {
        0% { transform: translate(1px, 1px) rotate(0deg); }
        10% { transform: translate(-1px, -2px) rotate(-1deg); }
        20% { transform: translate(-3px, 0px) rotate(1deg); }
        30% { transform: translate(3px, 2px) rotate(0deg); }
        40% { transform: translate(1px, -1px) rotate(1deg); }
        50% { transform: translate(-1px, 2px) rotate(-1deg); }
        60% { transform: translate(-3px, 1px) rotate(0deg); }
        70% { transform: translate(3px, 1px) rotate(-1deg); }
        80% { transform: translate(-1px, -1px) rotate(1deg); }
        90% { transform: translate(1px, 2px) rotate(0deg); }
        100% { transform: translate(1px, -2px) rotate(-1deg); }
    }


    .box{
        height: 17.75px;
        border: .4px solid black;
        margin: 0;
        padding: 0;
        margin-right: -4;
        background-color: white;
        display: inline-block;
    }
    
    .colors {cursor: url(paintbrush.png), crosshair;}

    .container {
        position: relative;
        right: "30px";
    }
    
    .container:hover .image {
        opacity: 0.3;
    }
    
    .image {
        opacity: 1;
        display: block;
        width: 100%;
        transition: .5s ease;
        backface-visibility: hidden;
    } 
    
    .rcorners {
            border-radius: 7.5px;
            border: .4px solid #292827;
            padding: 13px; 
            width: 450px;
            height: 50px;
            font-size:small;
            position: relative;
            top: 10px;
    }
    
    .color_label {
            border-radius: 5px;
            border: .4px solid #292827;
            font-size:small; 
            height: 25px;
            width: 120px;
            margin-top: 3px;
            position: relative;
            top: 7px;
    }

    .encoding {
            border-radius: 5px;
            width: 120px;
            height: 20px;
    }

    .highlight {
            background: rgb(91, 101, 128);
    }
</style>
<div>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <button class = "encoding highlight" id = hex type="button" style="margin-right: 50px">HEX</button>
    <button class = encoding id = color type="button">COLOR</button>
    <button class = encoding id = rgb type="button">RGB</button>
</div>
<br>
<div>
    <span class="box" id="box_one" style="width:447.5"></span>
    <span class="box" id="box_two"></span>
    <span class="box" id="box_three"></span>
    <span class="box" id="box_four"></span>
    <span class="box" id="box_five"></span>
    <span class="box" id="box_six"></span>
    <span class="box" id="box_seven"></span>
    <span class="box" id="box_eight"></span>
    <span class="box" id="box_nine"></span>
    <span class="box" id="box_ten"></span>
    <span class="box" id="box_eleven"></span>
    <span class="box" id="box_twelve"></span>
    <span class="box" id="box_thirteen"></span>
    <span class="box" id="box_thirteen"></span>
    <span class="box" id="box_fourteen"></span>
    <span class="box" id="box_fiftheen"></span>
    <span class="box" id="box_sixteen"></span>
    <span class="box" id="box_seventeen"></span>
    <span class="box" id="box_eighteen"></span>
</div>
<textarea ondrop = "dropped(event)" ondragover="allowDrop(event)" class = "rcorners" id = "clipboard_details"></textarea>
<br><br>
<div class = container>
    <img class = image id = eraser draggable="true" ondragstart="onEraseDrag(event);" src="eraser.png" alt="eraser" style="width:25;height:25px;margin-left:12px;">
</div>
<button id = color_one_add type="button">&#43;</button>
<textarea class = "color_label" id = color_one_hex>Text</textarea>
<input class = "colors" id = color_one type="color", value="#0000ff" draggable="true" ondragstart="onDragStart(event);">
<textarea class = "color_label" id = color_one_color>Text</textarea>
<textarea class = "color_label" id = color_one_rgb>Text</textarea>
<br>
<button id = color_two_add type="button">&#43;</button>
<textarea class = "color_label" id = color_two_hex>Text</textarea>
<input class = "colors" id = color_two type="color", value="#000000" draggable="true" ondragstart="onDragStart(event);"> 
<textarea class = "color_label" id = color_two_color>Text</textarea>
<textarea class = "color_label" id = color_two_rgb>Text</textarea>
<br>
<button id = color_three_add type="button">&#43;</button>
<textarea class = "color_label" id = color_three_hex>Text</textarea>
<input class = "colors" id = color_three type="color", value="#a52a2a" draggable="true" ondragstart="onDragStart(event);">
<textarea class = "color_label" id = color_three_color>Text</textarea>
<textarea class = "color_label" id = color_three_rgb>Text</textarea>
<br>
<button id = color_four_add type="button">&#43;</button>
<textarea class = "color_label" id = color_four_hex>Text</textarea>
<input class = "colors" id = color_four type="color", value="#00FF00" draggable="true" ondragstart="onDragStart(event);">
<textarea class = "color_label" id = color_four_color>Text</textarea>
<textarea class = "color_label" id = color_four_rgb>Text</textarea>
<br>
<button id = color_five_add type="button">&#43;</button>
<textarea class = "color_label" id = color_five_hex>Text</textarea>
<input class = "colors" id = color_five type="color", value="#ffa500" draggable="true" ondragstart="onDragStart(event);">
<textarea class = "color_label" id = color_five_color>Text</textarea>
<textarea class = "color_label" id = color_five_rgb>Text</textarea>
<br>
<button id = color_six_add type="button">&#43;</button>
<textarea class = "color_label" id = color_six_hex>Text</textarea>
<input class = "colors" id = color_six type="color", value="#ff0000" draggable="true" ondragstart="onDragStart(event);">
<textarea class = "color_label" id = color_six_color>Text</textarea>
<textarea class = "color_label" id = color_six_rgb>Text</textarea>
<br>
<button id = color_seven_add type="button">&#43;</button>
<textarea class = "color_label" id = color_seven_hex>Text</textarea>
<input class = "colors" id = color_seven type="color", value="#9932CC" draggable="true" ondragstart="onDragStart(event);">
<textarea class = "color_label" id = color_seven_color>Text</textarea>
<textarea class = "color_label" id = color_seven_rgb>Text</textarea>
<br>
<button id = color_eight_add type="button">&#43;</button>
<textarea class = "color_label" id = color_eight_hex>Text</textarea>
<input class = "colors" id = color_eight type="color", value="#FFFF00" draggable="true" ondragstart="onDragStart(event);">
<textarea class = "color_label" id = color_eight_color>Text</textarea>
<textarea class = "color_label" id = color_eight_rgb>Text</textarea>
<br>

<script>
    var eraser = document.getElementById("eraser")
    var colorone = document.getElementById("color_one")
    var colortwo = document.getElementById("color_two") 
    var colorthree = document.getElementById("color_three")
    var colorfour = document.getElementById("color_four") 
    var colorfive = document.getElementById("color_five") 
    var colorsix = document.getElementById("color_six") 
    var colorseven = document.getElementById("color_seven") 
    var coloreight = document.getElementById("color_eight") 

    var color_one_add = document.getElementById("color_one_add") 
    var color_two_add = document.getElementById("color_two_add") 
    var color_three_add = document.getElementById("color_three_add") 
    var color_four_add = document.getElementById("color_four_add") 
    var color_five_add = document.getElementById("color_five_add") 
    var color_six_add = document.getElementById("color_six_add") 
    var color_seven_add = document.getElementById("color_seven_add") 
    var color_eight_add = document.getElementById("color_eight_add") 

    var hex_button = document.getElementById("hex")
    var color_button = document.getElementById("color")
    var rgb_button = document.getElementById("rgb")

    var selected_color_encoding = "HEX"

    var clipboard_text = ""
    var elements = 0

    var drag_data = ""
    var eraser_dragging = false

    var untrun_rgb = ""

    var MAX_BOXES = 18

    var converted_event_target_value = ""

    var name_hex_rgb = [
        ["aqua", "#00FFFF",	"0, 255, 255"],
        ["black", "#000000", "0, 0, 0"],
        ["blue", "#0000FF",	"0, 0, 255"],
        ["fuchsia", "#FF00FF", "255, 0, 255"],
        ["gray", "#808080",	"128, 128, 128"],
        ["green",	"#008000", "0, 128, 0"],
        ["lime", "#00FF00", "0, 255, 0"],
        ["maroon", "#800000", "128, 0, 0"],
        ["olive",	"#808000", "128, 128, 0"],
        ["purple", "#800080", "128, 0, 128"],	
        ["red", "#FF0000", "255, 0, 0"],
        ["silver", "#C0C0C0", "192, 192, 192"],
        ["teal", "#008080", "0, 128, 128"],
        ["white", "#FFFFFF", "255, 255, 255"],	
        ["yellow", "#FFFF00", "255, 255, 0"],


        ["aliceblue"	,"#F0F8FF",	"240, 248, 255"],
        ["antiquewhite"	,"#FAEBD7",	"250, 235, 215"],
        ["aqua"	,"#00FFFF",	"0, 255, 255"],
        ["aquamarine"	,"#7FFFD4",	"127, 255, 212"],
        ["azure"	,"#F0FFFF",	"1240, 255, 255"],
        ["beige"	,"#F5F5DC",	"245, 245, 220"],
        ["bisque"	,"#FFE4C4",	"255, 228, 196"],
        ["black"	,"#000000",	"0, 0, 0"],	
        ["blanchedalmond"	,"#FFEBCD",	"255, 235, 205"],	
        ["blue"	,"#0000FF",	"0, 0, 255"],	
        ["blueviolet"	,"#8A2BE2",	"138, 43, 226"],	
        ["brown"	,"#A52A2A",	"165, 42, 42"],	
        ["burlywood"	,"#DEB887",	"222, 184, 135"],	
        ["cadetblue"	,"#5F9EA0",	"95, 158, 160"],	
        ["chartreuse"	,"#7FFF00",	"95, 158, 160"],	
        ["chocolate"	,"#D2691E",	"210, 105, 30"],
        ["coral"	,"#FF7F50",	"255, 127, 80"],
        ["cornflowerblue"	,"#6495ED",	"100, 149, 237"],
        ["cornsilk"	,"#FFF8DC",	"255, 248, 220"],
        ["crimson"	,"#DC143C",	"220, 20, 60"],	
        ["cyan"	,"#00FFFF",	"0, 255, 255"],	
        ["darkblue"	,"#00008B",	"0, 0, 139"],	
        ["darkcyan"	,"#008B8B",	"0, 139, 139"],	
        ["darkgoldenrod"	,"#B8860B",	"184, 134, 11"],	
        ["darkgray"	,"#A9A9A9",	"169, 169, 169"],	
        ["darkgreen"	,"#006400",	"0, 100, 0"],	
        ["darkkhaki"	,"#BDB76B",	"189, 183, 107"],	
        ["darkmagenta"	,"#8B008B",	"139, 0, 139"],	
        ["darkolivegreen"	,"#556B2F",	"85, 107, 47"],	
        ["darkorange"	,"#FF8C00",	"255, 140, 0"],	
        ["darkorchid"	,"#9932CC",	"153, 50, 204"],	
        ["darkred"	,"#8B0000",	"139, 0, 0"],	
        ["darksalmon"	,"#E9967A",	"233, 150, 122"],	
        ["darkseagreen"	,"#8FBC8F",	"143, 188, 143"],	
        ["darkslateblue"	,"#483D8B",	"72, 61, 139"],	
        ["darkslategray"	,"#2F4F4F",	"47, 79, 79"],
        ["darkturquoise"	,"#00CED1",	"0, 206, 209"],	
        ["darkviolet"	,"#9400D3",	"148, 0, 211"],	
        ["deeppink"	,"#FF1493",	"255, 20, 147"],	
        ["deepskyblue"	,"#00BFFF",	"0, 191, 255"],	
        ["dimgray"	,"#696969",	"0, 191, 255"],	
        ["dodgerblue"	,"#1E90FF",	"30, 144, 255"],	
        ["firebrick"	,"#B22222",	"178, 34, 34"],	
        ["floralwhite"	,"#FFFAF0",	"255, 250, 240"],	
        ["forestgreen"	,"#228B22",	"34, 139, 34"],	
        ["fuchsia"	,"#FF00FF",	"255, 0, 255"],	
        ["gainsboro"	,"#DCDCDC",	"220, 220, 220"],	
        ["ghostwhite"	,"#F8F8FF",	"248, 248, 255"],	
        ["gold"	,"#FFD700",	"255, 215, 0"],	
        ["goldenrod"	,"#DAA520",	"218, 165, 32"],
        ["gray"	,"#7F7F7F",	"127, 127, 127"],	
        ["green"	,"#008000",	"0, 128, 0"],	
        ["greenyellow"	,"#ADFF2F",	"173, 255, 47"],	
        ["honeydew"	,"#F0FFF0",	"240, 255, 240"],	
        ["hotpink"	,"#FF69B4",	"255, 105, 180"],	
        ["indianred"	,"#CD5C5C",	"205, 92, 92"],	
        ["indigo"	,"#4B0082",	"75, 0, 130"],
        ["ivory"	,"#FFFFF0",	"255, 255, 240"],	
        ["khaki"	,"#F0E68C",	"240, 230, 140"],	
        ["lavender"	,"#E6E6FA",	"230, 230, 250"],	
        ["lavenderblush"	,"#FFF0F5",	"255, 240, 245"],	
        ["lawngreen"	,"#7CFC00",	"124, 252, 0"],
        ["lemonchiffon"	,"#FFFACD",	"255, 250, 205"],
        ["lightblue"	,"#ADD8E6",	"173, 216, 230"],
        ["lightcoral"	,"#F08080",	"240, 128, 128"],	
        ["lightcyan"	,"#E0FFFF",	"224, 255, 255"],	
        ["lightgoldenrodyellow"	,"#FAFAD2",	"250, 250, 210"],	
        ["lightgreen"	,"#90EE90",	"144, 238, 144"],	
        ["lightgrey"	,"#D3D3D3",	"211, 211, 211"],	
        ["lightpink"	,"#FFB6C1",	"255, 182, 193"],	
        ["lightsalmon"	,"#FFA07A",	"255, 160, 122"],	
        ["lightseagreen"	,"#20B2AA",	"32, 178, 170"],	
        ["lightskyblue"	,"#87CEFA",	"135, 206, 250"],	
        ["lightslategray"	,"#778899",	"119, 136, 153"],	
        ["lightsteelblue"	,"#B0C4DE",	"176, 196, 222"],
        ["lightyellow"	,"#FFFFE0",	"255, 255, 224"],	
        ["lime"	,"#00FF00",	"0, 255, 0"],	
        ["limegreen"	,"#32CD32",	"50, 205, 50"],	
        ["linen"	,"#FAF0E6",	"250, 240, 230"],	
        ["magenta"	,"#FF00FF",	"255, 0, 255"],	
        ["maroon"	,"#800000",	"128, 0, 0"],
        ["mediumaquamarine"	,"#66CDAA",	"102, 205, 170"],
        ["mediumblue"	,"#0000CD",	"0, 0, 205"],
        ["mediumorchid"	,"#BA55D3",	"186, 85, 211"],	
        ["mediumpurple"	,"#9370DB",	"147, 112, 219"],	
        ["mediumseagreen"	,"#3CB371",	"60, 179, 113"],
        ["mediumslateblue"	,"#7B68EE",	"123, 104, 238"],	
        ["mediumspringgreen"	,"#00FA9A",	"0, 250, 154"],
        ["mediumturquoise"	,"#48D1CC",	"72, 209, 204"],
        ["mediumvioletred"	,"#C71585",	"199, 21, 133"],
        ["midnightblue"	,"#191970",	"25, 25, 112"],	
        ["mintcream" ,"#F5FFFA",	"245, 255, 250"],	
        ["mistyrose"	,"#FFE4E1",	"255, 228, 225"],	
        ["moccasin"	,"#FFE4B5",	"255, 228, 181"],	
        ["navajowhite"	,"#FFDEAD",	"255, 222, 173"],	
        ["navy"	,"#000080",	"0, 0, 128"],
        ["navyblue"	,"#9FAFDF",	"159, 175, 223"],	
        ["oldlace"	,"#FDF5E6",	"253, 245, 230"],	
        ["olive"	,"#808000",	"128, 128, 0"],
        ["olivedrab"	,"#6B8E23",	"107, 142, 35"],	
        ["orange"	,"#FFA500",	"255, 165, 0"],	
        ["orangered"	,"#FF4500",	"255, 69, 0"],
        ["orchid"	,"#DA70D6",	"218, 112, 214"],
        ["palegoldenrod"	,"#EEE8AA",	"238, 232, 170"],
        ["palegreen"	,"#98FB98",	"152, 251, 152"],
        ["paleturquoise"	,"#AFEEEE",	"175, 238, 238"],	
        ["palevioletred"	,"#DB7093",	"219, 112, 147"],
        ["papayawhip"	,"#FFEFD5",	"255, 239, 213"],
        ["peachpuff"	,"#FFDAB9",	"255, 218, 185"],
        ["peru"	,"#CD853F",	"205, 133, 63"],
        ["pink"	,"#FFC0CB",	"255, 192, 203"],	
        ["plum"	,"#DDA0DD",	"221, 160, 221"],
        ["powderblue"	,"#B0E0E6",	"176, 224, 230"],	
        ["purple"	,"#800080",	"128, 0, 128"],
        ["red"	,"#FF0000",	"255, 0, 0"],
        ["rosybrown"	,"#BC8F8F",	"188, 143, 143"],	
        ["royalblue"	,"#4169E1",	"65, 105, 225"],	
        ["saddlebrown"	,"#8B4513",	"139, 69, 19"],	
        ["salmon"	,"#FA8072",	"250, 128, 114"],
        ["sandybrown"	,"#FA8072",	"244, 164, 96"],	
        ["seagreen"	,"#2E8B57",	"46, 139, 87"],	
        ["seashell"	,"#FFF5EE",	"255, 245, 238"],	
        ["sienna"	,"#A0522D",	"160, 82, 45"],	
        ["silver"	,"#C0C0C0",	"192, 192, 192"],	
        ["skyblue"	,"#87CEEB",	"135, 206, 235"],	
        ["slateblue"	,"#6A5ACD",	"106, 90, 205"],
        ["slategray"	,"#708090",	"112, 128, 144"],	
        ["snow"	,"#FFFAFA",	"255, 250, 250"],	
        ["springgreen"	,"#00FF7F", "0, 255, 127"],	
        ["steelblue"	,"#4682B4",	"70, 130, 180"],	
        ["tan"	,"#D2B48C",	"210, 180, 140"],	
        ["teal"	,"#008080",	"0, 128, 128"],	
        ["thistle"	,"#D8BFD8",	"216, 191, 216"],	
        ["tomato"	,"#FF6347",	"255, 99, 71"],
        ["turquoise"	,"#40E0D0",	"64, 224, 208"],	
        ["violet"	,"#EE82EE",	"238, 130, 238"],	
        ["wheat"	,"#F5DEB3",	"245, 222, 179"],	
        ["white"	,"#FFFFFF",	"255, 255, 255"],	
        ["whitesmoke"	,"#F5F5F5",	"245, 245, 245"],	
        ["yellow"	,"#FFFF00",	"255, 255, 0"],	
        ["yellowgreen"	,"#9ACD32",	"139, 205, 50"]
    ]

    var colors = {
                    pallete: {
                        1: colorone.value,
                        2: colortwo.value,
                        3: colorthree.value,
                        4: colorfour.value,
                        5: colorfive.value,
                        6: colorsix.value,
                        7: colorseven.value,
                        8: coloreight.value
                    },
                    change: -1
                }


    document.getElementById("color_one_hex").innerHTML = colorone.value
    document.getElementById("color_two_hex").innerHTML = colortwo.value
    document.getElementById("color_three_hex").innerHTML = colorthree.value
    document.getElementById("color_four_hex").innerHTML = colorfour.value
    document.getElementById("color_five_hex").innerHTML = colorfive.value
    document.getElementById("color_six_hex").innerHTML = colorsix.value
    document.getElementById("color_seven_hex").innerHTML = colorseven.value
    document.getElementById("color_eight_hex").innerHTML = coloreight.value

    document.getElementById("color_one_rgb").innerHTML = convertHex("RGB", colorone.value)
    document.getElementById("color_two_rgb").innerHTML = convertHex("RGB", colortwo.value)
    document.getElementById("color_three_rgb").innerHTML = convertHex("RGB", colorthree.value)
    document.getElementById("color_four_rgb").innerHTML = convertHex("RGB", colorfour.value)
    document.getElementById("color_five_rgb").innerHTML = convertHex("RGB", colorfive.value)
    document.getElementById("color_six_rgb").innerHTML = convertHex("RGB", colorsix.value)
    document.getElementById("color_seven_rgb").innerHTML = convertHex("RGB", colorseven.value)
    document.getElementById("color_eight_rgb").innerHTML = convertHex("RGB", coloreight.value)

    document.getElementById("color_one_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colorone.value))
    document.getElementById("color_two_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colortwo.value))
    document.getElementById("color_three_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colorthree.value))
    document.getElementById("color_four_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colorfour.value))
    document.getElementById("color_five_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colorfive.value))
    document.getElementById("color_six_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colorsix.value))
    document.getElementById("color_seven_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colorseven.value))
    document.getElementById("color_eight_color").innerHTML = convertRGB("COLOR", convertHex("RGB", coloreight.value))

    hex_button.addEventListener("click", function(event) {
        prev_selected_color = selected_color_encoding
        selected_color_encoding = "HEX"
        hex_button.classList.add('highlight');
        color_button.classList.remove('highlight');
        rgb_button.classList.remove('highlight');
        console.log(prev_selected_color)
        if(clipboard_text.length != 1 && clipboard_text.length != 0) {
            if(prev_selected_color === "COLOR") {
                if(elements === 1) {
                    document.getElementById("clipboard_details").value = convertColor("HEX", document.getElementById("clipboard_details").value)
                } else {
                    text = document.getElementById("clipboard_details").value
                    value = text.split(",")
                    value[0] = value[0].substring(2, value[0].length)
                    value[value.length-1] = value[value.length-1].substring(0, value[value.length-1].length - 1)
    
                    for (let i = 0; i < value.length; i++) {
                        value[i] = value[i].substring(1, value[i].length - 1)
                    }
                    console.log(value)
                    value = value.map(function(v) { return "\"" + convertColor("HEX", v) + "\""})
                    document.getElementById("clipboard_details").value = "c(" + value.join(",") +")"
                    clipboard_text =  "c(" + value.join(",") +")"
                }
            } else if(prev_selected_color === "RGB") {
                if(elements === 1) {
                    document.getElementById("clipboard_details").value = convertRGB("HEX", untrun_rgb)
                } else {
                    value = untrun_rgb
                    value = value.map(function(v) { return "\"" + convertRGB("HEX", v) + "\""})
                    document.getElementById("clipboard_details").value = "c(" + value.join(",") +")"
                    clipboard_text =  "c(" + value.join(",") +")"
                }
            }
        }
    })

    
    color_button.addEventListener("click", function(event) {
        prev_selected_color = selected_color_encoding
        selected_color_encoding = "COLOR"
        hex_button.classList.remove('highlight');
        color_button.classList.add('highlight');
        rgb_button.classList.remove('highlight');
        if(clipboard_text.length != 1 && clipboard_text.length != 0) {
            if(prev_selected_color === "HEX") {
                if(elements === 1) {
                    document.getElementById("clipboard_details").value = "\"" + convertRGB("COLOR", convertHex("RGB",  document.getElementById("clipboard_details").value)) + "\""
                } else {
                    text = document.getElementById("clipboard_details").value
                    console.log(text)
                    value = text.split(",")
                    value[0] = value[0].substring(2, value[0].length)
                    value[value.length-1] = value[value.length-1].substring(1, value[value.length-1].length - 1)
    
                    for (let i = 0; i < value.length; i++) {
                        value[i] = value[i].substring(1, value[i].length - 1)
                    }
                    
                    value = value.map(function(v) { return "\"" + convertRGB("COLOR", convertHex("RGB",  v)) + "\""})
                    
                    document.getElementById("clipboard_details").value = "c(" + value.join(",") +")"
                    clipboard_text = "c(" + value.join(",") +")"
                }
            } else if(prev_selected_color === "RGB") {
                if(elements === 1) {
                    document.getElementById("clipboard_details").value = threeDimensionalEuclideanDistance(document.getElementById("clipboard_details").value)
                } else {
                    value = untrun_rgb
                    console.log(value)
                    value = value.map(function(v) { return "\"" + convertRGB("COLOR", v) + "\""})
                    document.getElementById("clipboard_details").value = "c(" + value.join(",") +")"
                    clipboard_text = "c(" + value.join(",") +")"
                }
            }
        }
    })


    rgb_button.addEventListener("click", function(event) {
        prev_selected_color = selected_color_encoding
        selected_color_encoding = "RGB"
        hex_button.classList.remove('highlight');
        color_button.classList.remove('highlight');
        rgb_button.classList.add('highlight');
        if(clipboard_text.length != 1 && clipboard_text.length != 0) {
            if(prev_selected_color === "COLOR") {
                if(elements === 1) {
                    document.getElementById("clipboard_details").value = convertColor("RGB", document.getElementById("clipboard_details").value.substring(1, document.getElementById("clipboard_details").value.length-1))
                } else {
                    text = document.getElementById("clipboard_details").value
                    value = text.split(",")
                    value[0] = value[0].substring(2, value[0].length)
                    value[value.length-1] = value[value.length-1].substring(0, value[value.length-1].length - 1)
                    
                    modified_untrunc_rgb = []
                    for (let i = 0; i < value.length; i++) {
                        value[i] = value[i].substring(1, value[i].length - 1)
                    }
                    
                    value = value.map(function(v) { 
                        convert = convertColor("RGB", v)
                        modified_untrunc_rgb.push(untrun_rgb)
                        return convert
                    })
                    untrun_rgb = modified_untrunc_rgb
                    console.log(untrun_rgb)
                    document.getElementById("clipboard_details").value = "c(" + value.join(",") +")"
                    clipboard_text = "c(" + value.join(",") +")"
                }
            } else if(prev_selected_color === "HEX") {
                if(elements === 1) {
                    document.getElementById("clipboard_details").value = convertHex("RGB", document.getElementById("clipboard_details").value)
                } else {
                    text = document.getElementById("clipboard_details").value
                    value = text.split(",")
                    value[0] = value[0].substring(2, value[0].length)
                    value[value.length-1] = value[value.length-1].substring(0, value[value.length-1].length - 1)
                    
                    modified_untrunc_rgb = []
                    for (let i = 0; i < value.length; i++) {
                        value[i] = value[i].substring(1, value[i].length - 1)
                    }
                    console.log(value)
                    value = value.map(function(v) { 
                        convert = convertHex("RGB", v)
                        modified_untrunc_rgb.push(untrun_rgb)
                        return convert
                    })
                    untrun_rgb = modified_untrunc_rgb
                    console.log(untrun_rgb)
                    document.getElementById("clipboard_details").value = "c(" + value.join(",") +")"
                    clipboard_text = "c(" + value.join(",") +")"
                }
            }
        }
    })

    // The function is mainly used to find the closest colored name to this RGB value.
    function threeDimensionalEuclideanDistance(rgb) {
        var value = rgb.split(",")
        console.log(value)
        red = parseFloat(value[0].substring(4, value[0].length)) * 256
        green = parseFloat(value[1]) * 256
        blue = parseFloat(value[2].substring(0, value[2].length - 1)) * 256

        min_e = Infinity
        min_e_index = -1 

        for (let i = 0; i < name_hex_rgb.length; i++) {
            this_colors_rgb = name_hex_rgb[i][2].split(",")
            this_rgb_red = parseInt(this_colors_rgb[0])
            this_rgb_green = parseInt(this_colors_rgb[1])
            this_rgb_blue = parseInt(this_colors_rgb[2])
 
            red_calc = (this_rgb_red - red)**2
            blue_calc = (this_rgb_blue - blue)**2
            green_calc = (this_rgb_green - green)**2

            e_dist = Math.sqrt(red_calc + blue_calc + green_calc)
            if(e_dist < min_e) {
                min_e = e_dist
                min_e_index = i
            }
        }
        return(name_hex_rgb[min_e_index][0])
    }

    function onDragStart(event) {
        eraser_dragging = false
        if(selected_color_encoding === "HEX") {
            converted_event_target_value  = event.target.value
        } else if(selected_color_encoding === "COLOR") {
            converted_event_target_value  = convertHex("COLOR", event.target.value)
        } else if(selected_color_encoding === "RGB"){
            converted_event_target_value  = convertHex("RGB", event.target.value)
        }
        if(elements === 0) {
            //document.getElementById("clipboard_details").value = " "
            if(selected_color_encoding != "RGB") {
                drag_data = "\"" + converted_event_target_value + "\""
                event
                    .dataTransfer
                    .setData("Text",  "\"" + converted_event_target_value + "\"");
            } else {
                drag_data =  converted_event_target_value 
                event
                    .dataTransfer
                    .setData("Text",  converted_event_target_value);
            }
        } else if(elements === 1) {
            // document.getElementById("clipboard_details").value = " "
            if(selected_color_encoding != "RGB") {
                drag_data = "c(" + document.getElementById("clipboard_details").value +  ",\"" + converted_event_target_value + "\")"

                event
                    .dataTransfer
                    .setData("Text", "c(" + clipboard_text +  ",\"" + converted_event_target_value + "\")");
            } else {
                drag_data = "c(" + document.getElementById("clipboard_details").value + "," + converted_event_target_value + ")"
                console.log(untrun_rgb)
            
                event
                    .dataTransfer
                    .setData("Text", "c(" + clipboard_text +  "," + converted_event_target_value + ")");
            }
        } else {
            if(selected_color_encoding != "RGB") {
                drag_data = clipboard_text.substring(0, clipboard_text.length - 1) + ",\"" + converted_event_target_value  + "\")"
                //document.getElementById("clipboard_details").value = " "
                event
                    .dataTransfer
                    .setData("Text", document.getElementById("clipboard_details").value.substring(0, document.getElementById("clipboard_details").value.length - 1) + ",\"" + converted_event_target_value  + "\")");
            } else {
                drag_data = clipboard_text.substring(0, clipboard_text.length - 1) + "," + converted_event_target_value  + ")"
                //document.getElementById("clipboard_details").value = " "
                console.log(untrun_rgb)
                
                event
                    .dataTransfer
                    .setData("Text", document.getElementById("clipboard_details").value.substring(0, document.getElementById("clipboard_details").value.length - 1) + "," + converted_event_target_value  + ")");
            }
        }
    }

    // Hex -> [Other]
    function convertHex(conversion, value) {
        if(conversion === "COLOR") {
            return convertRGB("COLOR", convertHex("RGB", value))
        } else if(conversion === "RGB") {
            var value = value.match(/[A-Za-z0-9]{2}/g);
            // ["XX", "XX", "XX"] -> [n, n, n]
            untrun_rgb = value.map(function(v) { return (parseInt(v, 16)/256)});
            untrun_rgb = "rgb(" + untrun_rgb.join(",") + ")"
            value = value.map(function(v) { return (parseInt(v, 16)/256).toFixed(2) });

            // [n, n, n] -> rgb(n,n,n)
            return "rgb(" + value.join(",") + ")";
        } 
    } 

    // Color -> [Other]
    function convertColor(conversion, value) {
        if(conversion === "HEX") {
            console.log("converting hex")
            console.log(value)
            for (let i = 0; i < name_hex_rgb.length; i++) {
                if(name_hex_rgb[i][0] === value) {
                    console.log(name_hex_rgb[i][1])
                    return(name_hex_rgb[i][1].toLowerCase())
                }
            }
        } else if(conversion === "RGB") {
            for (let i = 0; i < name_hex_rgb.length; i++) {
                if(name_hex_rgb[i][0] === value) {
                    splitInts = name_hex_rgb[i][2].split(",")
                    untrun_rgb = splitInts.map(function(v) { return (parseInt(v)/256)});
                    untrun_rgb = "rgb(" + untrun_rgb.join(",") + ")"
                    parsedInts = splitInts.map(function(v) { return (parseInt(v)/256).toFixed(2) });
                    return("rgb(" + parsedInts.join(",") + ")")
                }
            }
        }
    }
    
    // RGB -> [Other]
    function convertRGB(conversion, value) {
        if(conversion === "COLOR") {
            return(threeDimensionalEuclideanDistance(value))
        } else if(conversion === "HEX") {
            var value = value.split(",")
            console.log(value)
            red = parseFloat(value[0].substring(4, value[0].length)) * 256
            console.log(parseFloat(value[0].substring(4, 8)))
            green = parseFloat(value[1]) * 256
            blue = parseFloat(value[2].substring(0, value[2].length - 1)) * 256

            console.log(red)
            console.log(green)
            console.log(blue)
            
            r = parseInt(red).toString(16);
            g = parseInt(green).toString(16);
            b = parseInt(blue).toString(16);

            console.log(r)
            console.log(g)
            console.log(b)
            
            if (r.length == 1)
                r = "0" + r;
            if (g.length == 1)
                g = "0" + g;
            if (b.length == 1)
                b = "0" + b;

            return "#" + r + g + b;
        } 
    }

    function onEraseDrag(event) {
        eraser_dragging = true
    }

    function allowDrop(event) {
        event.preventDefault()
    }

    function dropped(event) {
        if(eraser_dragging) {
            document.getElementById("clipboard_details").value = ""
            clipboard_text = ""
            elements = 0
            copyTextToClipboard(" ")
            drag_data = ""
            
        } else {
            document.getElementById("clipboard_details").value = drag_data
            console.log(drag_data)
            console.log(untrun_rgb)
            if(selected_color_encoding === "RGB") {
                untrun_rgb.push(converted_event_target_value)
            }
   
            clipboard_text = drag_data
            elements += 1
            copyTextToClipboard(drag_data)
            drag_data = ""
        }
        // Need to check if event is dragging an eraser or a new color.
    }

    function fallbackCopyTextToClipboard(text) {
        var textArea = document.createElement("textarea");
        textArea.value = text;

        // Avoid scrolling to bottom
        textArea.style.top = "0";
        textArea.style.left = "0";
        textArea.style.position = "fixed";

        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        try {
            var successful = document.execCommand('copy');
            var msg = successful ? 'successful' : 'unsuccessful';
            console.log(text)
            console.log('Fallback: Copying text command was ' + msg);
        } catch (err) {
            console.log(text)
            console.error('Fallback: Oops, unable to copy', err);
        }

        document.body.removeChild(textArea);
    }

    const copyTextToClipboard = (text) => {
    
        
        //if (!navigator.clipboard) {
        fallbackCopyTextToClipboard(text);
        return;
        //}

        /*navigator.clipboard.writeText(text).then(function() {
            alert("Copied")
            console.log(text)
            console.log('Async: Copying to clipboard was successful!');
        }, function(err) {
            alert("Not copied")
            console.log(text)
            console.error('Async: Could not copy text: ', err);
        });*/
    }

    const triggerchange = (color) => {
        if(elements >= 1) {
            
            if(elements === 1) {
                if(selected_color_encoding != "RGB") {
                    copyTextToClipboard("c(" + clipboard_text +  ",\"" + color + "\")")
                    clipboard_text = "c(" + clipboard_text +  ",\"" + color + "\")"
                } else {
                    copyTextToClipboard("c(" + clipboard_text +  "," + color + ")")
                    clipboard_text = "c(" + clipboard_text +  "," + color + ")"
                }
                document.getElementById("clipboard_details").value= clipboard_text
                elements += 1
            } else {
                if(selected_color_encoding != "RGB") {
                    copyTextToClipboard(clipboard_text.substring(0, clipboard_text.length - 1) + ",\"" + color + "\")")
                    clipboard_text = clipboard_text.substring(0, clipboard_text.length - 1) + ",\"" + color + "\")"
                } else {
                    copyTextToClipboard(clipboard_text.substring(0, clipboard_text.length - 1) + "," + color + ")")
                    clipboard_text = clipboard_text.substring(0, clipboard_text.length - 1) + "," + color + ")"
                }
                document.getElementById("clipboard_details").value = clipboard_text
                elements += 1
            }

        } else {
            if(selected_color_encoding != "RGB") {
                copyTextToClipboard("\"" + color + "\"");
                clipboard_text = "\"" + color + "\""
            } else {
                copyTextToClipboard(color);
                clipboard_text = color 
            }
            document.getElementById("clipboard_details").value = clipboard_text
            elements = 1
        }

        console.log(clipboard_text)
        //document.execCommand("paste")
        //Tried pasting
    }

    eraser.addEventListener("click", function(event) {
            splitted = document.getElementById("clipboard_details").value.split(",")
            splitted.pop()
            if(elements != 1 && elements != 0) {
                document.getElementById("clipboard_details").value = splitted.join(",") + ")"
                clipboard_text = document.getElementById("clipboard_details").value
                copyTextToClipboard(clipboard_text);
                elements -= 1
            } else {
                document.getElementById("clipboard_details").value = ""
                clipboard_text = ""
                
                copyTextToClipboard(" ");
                elements = 0
            }
    })



    colorone.addEventListener("input", function(event) {
        colors.pallete[1] = colorone.value
        document.getElementById("color_one_hex").value = colorone.value
        document.getElementById("color_one_rgb").value = convertHex("RGB", colorone.value)
        document.getElementById("color_one_color").value = convertRGB("COLOR", convertHex("RGB", colorone.value))
        colors.change = 1
        if(selected_color_encoding === "HEX") {
            triggerchange(colorone.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorone.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorone.value))
        }
    })
    colortwo.addEventListener("input", function(event) {
        colors.pallete[2] = colortwo.value
        document.getElementById("color_two_hex").value = colortwo.value
        document.getElementById("color_two_rgb").value = convertHex("RGB", colortwo.value)
        document.getElementById("color_two_color").value = convertRGB("COLOR", convertHex("RGB", colortwo.value))
        colors.change = 2
        if(selected_color_encoding === "HEX") {
            triggerchange(colortwo.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colortwo.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colortwo.value))
        }
    })
    colorthree.addEventListener("input", function(event) {
        colors.pallete[3] = colorthree.value
        document.getElementById("color_three_hex").value = colorthree.value
        document.getElementById("color_three_rgb").value = convertHex("RGB", colorthree.value)
        document.getElementById("color_three_color").value = convertRGB("COLOR", convertHex("RGB", colorthree.value))
        colors.change = 3
        if(selected_color_encoding === "HEX") {
            triggerchange(colorthree.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorthree.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorthree.value))
        }
    })
    colorfour.addEventListener("input", function(event) {
        colors.pallete[4] = colorfour.value
        document.getElementById("color_four_hex").value = colorfour.value
        document.getElementById("color_four_rgb").value = convertHex("RGB", colorfour.value)
        document.getElementById("color_four_color").value = convertRGB("COLOR", convertHex("RGB", colorfour.value))
        colors.change = 4
        if(selected_color_encoding === "HEX") {
            triggerchange(colorfour.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorfour.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorfour.value))
        }
    })
    colorfive.addEventListener("input", function(event) {
        colors.pallete[5] = colorfive.value
        document.getElementById("color_five_hex").value = colorfive.value
        document.getElementById("color_five_rgb").value = convertHex("RGB", colorfive.value)
        document.getElementById("color_five_color").value = convertRGB("COLOR", convertHex("RGB", colorfive.value))
        colors.change = 5
        if(selected_color_encoding === "HEX") {
            triggerchange(colorfive.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorfive.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorfive.value))
        }
    })
    colorsix.addEventListener("input", function(event) {
        colors.pallete[6] = colorsix.value
        document.getElementById("color_six_hex").value = colorsix.value
        document.getElementById("color_six_rgb").value = convertHex("RGB", colorsix.value)
        document.getElementById("color_six_color").value = convertRGB("COLOR", convertHex("RGB", colorsix.value))
        colors.change = 6
        if(selected_color_encoding === "HEX") {
            triggerchange(colorsix.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorsix.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorsix.value))
        }
    })
    colorseven.addEventListener("input", function(event) {
        colors.pallete[7] = colorseven.value
        document.getElementById("color_seven_hex").innerHTML = colorseven.value
        document.getElementById("color_seven_rgb").innerHTML = convertHex("RGB", colorseven.value)
        document.getElementById("color_seven_color").innerHTML = convertRGB("COLOR", convertHex("RGB", colorseven.value))
        colors.change = 7
        if(selected_color_encoding === "HEX") {
            triggerchange(colorseven.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorseven.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorseven.value))
        }
    })
    coloreight.addEventListener("input", function(event) {
        colors.pallete[8] = coloreight.value
        document.getElementById("color_eight_hex").value = coloreight.value
        document.getElementById("color_eight_rgb").value = convertHex("RGB", coloreight.value)
        document.getElementById("color_eight_color").value = convertRGB("COLOR", convertHex("RGB", coloreight.value))
        colors.change = 8
        if(selected_color_encoding === "HEX") {
            triggerchange(coloreight.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", coloreight.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", coloreight.value))
        }
    })




    color_one_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(colorone.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorone.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorone.value))
        }
     
    })

    color_two_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(colortwo.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colortwo.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colortwo.value))
        }
    })

    color_three_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(colorthree.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorthree.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorthree.value))
        }
    })

    color_four_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(colorfour.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorfour.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorfour.value))
        }
    })

    color_five_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(colorfive.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorfive.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorfive.value))
        }
    })

    color_six_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(colorsix.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorsix.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorsix.value))
        }
    })
    color_seven_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(colorseven.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", colorseven.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", colorseven.value))
        }
    })

    color_eight_add.addEventListener("click", function(event) {
        if(selected_color_encoding === "HEX") {
            triggerchange(coloreight.value)
        } else if(selected_color_encoding === "COLOR") {
            triggerchange(convertHex("COLOR", coloreight.value))
        } else if(selected_color_encoding === "RGB"){
            triggerchange(convertHex("RGB", coloreight.value))
        }
    })
</script>